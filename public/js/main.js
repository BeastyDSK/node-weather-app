const icon=document.querySelector("#wicon"),temprature=document.querySelector("#wtemp"),climate=document.querySelector("#wclimate"),loc=document.querySelector("#wloc"),rain=document.querySelector("#wrain"),gps=document.querySelector("#gps"),err=document.querySelector("#error"),form=document.querySelector(".form");form.addEventListener("submit",e=>{e.preventDefault(),err.textContent="";var o=String(gps.value);0!=o.trim().length?(document.querySelector(".weather-info").classList.remove("show"),fetch("/weather?address="+o).then(e=>e.json()).then(e=>{e.error?err.textContent=e.error:(document.querySelector(".weather-info").classList.add("show"),temprature.textContent=e.temperature,rain.textContent=`${e.chance_for_rain}% chance of rain`,t=e.temperature,r=e.chance_for_rain,t<=5?icon.src="/img/snowy.svg":r>20?icon.src="/img/thunder.svg":t<=30?icon.src="/img/normal.svg":icon.src="/img/summer.svg",loc.textContent=e.address,climate.textContent=e.forecast)})):err.textContent="Sorry, you didn't provide any location."});